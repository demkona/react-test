{"version":3,"sources":["components/UI/MyModal/MyModal.module.css","components/UI/button/MyButton.module.css","components/UI/input/MyInput.module.css","components/UI/Loader/Loader.module.css","components/UI/button/MyButton.jsx","context/index.js","components/UI/Navbar/Navbar.jsx","pages/About.jsx","API/PostService.js","hooks/usePosts.js","hooks/useFetching.js","utils/pages.js","components/UI/input/MyInput.jsx","components/PostForm.jsx","components/UI/MyModal/MyModal.jsx","components/UI/select/MySelect.jsx","components/PostFilter.jsx","components/PostItem.jsx","components/PostList.jsx","components/UI/Loader/Loader.jsx","components/UI/pagination/Pagination.jsx","pages/Posts.jsx","router/index.js","hooks/useObserver.js","pages/PostIdPage.jsx","pages/Login.jsx","components/AppRouter.jsx","App.js","index.js"],"names":["module","exports","MyButton","_ref","children","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","className","classes","myBtn","AuthContext","createContext","Navbar","_useContext","useContext","setIsAuth","isAuth","_jsxs","onClick","localStorage","removeItem","Link","to","About","PostService","_classCallCheck","_createClass","key","value","_getAll","_asyncToGenerator","_regeneratorRuntime","mark","_callee","limit","page","response","_args","arguments","wrap","_context","prev","next","length","undefined","axios","get","params","_limit","_page","sent","abrupt","stop","apply","_getById","_callee2","id","_context2","_x","_getCommentsByPostId","_callee3","_context3","concat","_x2","usePosts","posts","sort","query","sortedPosts","useMemo","_toConsumableArray","a","b","localeCompare","useSortedPosts","filter","post","title","toLowerCase","includes","useFetching","callback","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","error","setError","t0","message","finish","getPageCount","totalCount","Math","ceil","MyInput","React","forwardRef","ref","myInput","PostForm","create","body","setPost","onChange","e","target","type","placeholder","preventDefault","newPost","Date","now","MyModal","visible","setVisible","rootClasses","cl","myModal","push","active","join","myModalContent","stopPropagation","MySelect","options","defaultValue","event","disabled","map","option","name","PostFilter","setFilter","selectedSort","PostItem","router","useHistory","remove","PostList","style","textAlign","TransitionGroup","index","CSSTransition","timeout","classNames","number","Loader","loader","Pagination","totalPages","changePage","pagesArray","result","i","getPagesArray","p","Posts","privateRoutes","path","component","exact","setPosts","_useState5","_useState6","modal","setModal","_useState7","_useState8","setTotalPages","_useState9","_useState10","setLimit","_useState11","_useState12","setPage","sortedAndSearchedPosts","lastElement","useRef","_useFetching","getAll","data","headers","_useFetching2","fetchPosts","isPostsLoading","postError","canLoad","observer","useEffect","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","useObserver","marginTop","margin","height","background","display","justifyContent","useParams","comments","setComments","getById","fetchPostById","_useFetching3","_ref2","getCommentsByPostId","_useFetching4","fetchComments","isComLoading","comm","email","publicRoutes","onSubmit","setItem","AppRouter","console","log","Switch","route","Route","Redirect","App","setLoading","getItem","Provider","BrowserRouter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e1b52813.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__3wunW\",\"myModalContent\":\"MyModal_myModalContent__3NJ2c\",\"active\":\"MyModal_active__2TUBd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__1rqi-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__1bS5J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1MjUl\",\"rotate\":\"Loader_rotate__3fyxQ\"};","import React from 'react';\nimport classes from './MyButton.module.css';\n\nconst MyButton = ({children, ...props}) => {\n    return (\n        <button {...props} className={classes.myBtn}>\n            {children}\n        </button>\n    );\n};\n\nexport default MyButton;\n","import {createContext} from 'react'\n\nexport const AuthContext = createContext(null);\n","import React, {useContext} from 'react';\nimport {Link} from \"react-router-dom\";\nimport MyButton from \"../button/MyButton\";\nimport {AuthContext} from \"../../../context\";\n\nconst Navbar = () => {\n    const {isAuth, setIsAuth} = useContext(AuthContext);\n\n    const logout = () => {\n        setIsAuth(false);\n        localStorage.removeItem('auth')\n    }\n\n    return (\n        <div className=\"navbar\">\n            <MyButton onClick={logout}>\n                Exit\n            </MyButton>\n            <div className=\"navbar__links\">\n                <Link to=\"/about\">About</Link>\n                <Link to=\"/posts\">Posts</Link>\n            </div>\n        </div>\n    );\n};\n\nexport default Navbar;\n","import React from 'react';\n\nconst About = () => {\n    return (\n        <h1>\n            Thes app developer by demkona\n        </h1>\n    );\n};\n\nexport default About;\n","import axios from \"axios\";\n\nexport default class PostService {\n    static async getAll(limit = 10, page = 1) {\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\n            params: {\n                _limit: limit,\n                _page: page\n            }\n        })\n        return response;\n    }\n\n    static async getById(id) {\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts/' + id)\n        return response;\n    }\n\n    static async getCommentsByPostId(id) {\n        const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}/comments`)\n        return response;\n    }\n}\n","import {useMemo} from \"react\";\n\nexport const useSortedPosts = (posts, sort) => {\n    const sortedPosts = useMemo(() => {\n        if(sort) {\n            return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]))\n        }\n        return posts;\n    }, [sort, posts])\n\n    return sortedPosts;\n}\n\nexport const usePosts = (posts, sort, query) => {\n    const sortedPosts = useSortedPosts(posts, sort);\n\n    const sortedAndSearchedPosts = useMemo(() => {\n        return sortedPosts.filter(post => post.title.toLowerCase().includes(query.toLowerCase()))\n    }, [query, sortedPosts])\n\n    return sortedAndSearchedPosts;\n}\n","import {useState} from \"react\";\n\nexport const useFetching = (callback) => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const fetching = async (...args) => {\n        try {\n            setIsLoading(true)\n            await callback(...args)\n        } catch (e) {\n            setError(e.message);\n        } finally {\n            setIsLoading(false)\n        }\n    }\n\n    return [fetching, isLoading, error]\n}\n","export const getPageCount = (totalCount, limit) => {\n    return Math.ceil(totalCount / limit)\n}\n\nexport const getPagesArray = (totalPages) => {\n    let result = [];\n    for (let i = 0; i < totalPages; i++) {\n        result.push(i + 1)\n    }\n    return result;\n}\n","import React from 'react';\nimport classes from './MyInput.module.css';\n\nconst MyInput = React.forwardRef((props, ref) => {\n    return (\n        <input ref={ref} className={classes.myInput} {...props}/>\n    );\n});\n\nexport default MyInput;\n","import React, {useState} from 'react';\nimport MyInput from \"./UI/input/MyInput\";\nimport MyButton from \"./UI/button/MyButton\";\n\nconst PostForm = ({create}) => {\n    const [post, setPost] = useState({title: '', body: ''})\n\n\n    const addNewPost = (e) => {\n        e.preventDefault()\n        const newPost = {\n            ...post, id: Date.now()\n        }\n        create(newPost)\n        setPost({title: '', body: ''})\n    }\n\n    return (\n        <form>\n            <MyInput\n                value={post.title}\n                onChange={e => setPost({...post, title: e.target.value})}\n                type=\"text\"\n                placeholder=\"name post\"\n            />\n            <MyInput\n                value={post.body}\n                onChange={e => setPost({...post, body: e.target.value})}\n                type=\"text\"\n                placeholder=\"description post\"\n            />\n            <MyButton onClick={addNewPost}>Add post</MyButton>\n        </form>\n    );\n};\n\nexport default PostForm;\n","import React from 'react';\nimport cl from './MyModal.module.css';\n\nconst MyModal = ({children, visible, setVisible}) => {\n\n    const rootClasses = [cl.myModal]\n\n    if (visible) {\n        rootClasses.push(cl.active);\n    }\n\n    return (\n        <div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\n            <div className={cl.myModalContent} onClick={(e) => e.stopPropagation()}>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default MyModal;\n","import React from 'react';\n\nconst MySelect = ({options, defaultValue, value, onChange}) => {\n    return (\n        <select\n            value={value}\n            onChange={event => onChange(event.target.value)}\n        >\n            <option disabled value=\"\">{defaultValue}</option>\n            {options.map(option =>\n                <option key={option.value} value={option.value}>\n                    {option.name}\n                </option>\n            )}\n        </select>\n    );\n};\n\nexport default MySelect;\n","import React from 'react';\nimport MyInput from \"./UI/input/MyInput\";\nimport MySelect from \"./UI/select/MySelect\";\n\nconst PostFilter = ({filter, setFilter}) => {\n    return (\n        <div>\n            <MyInput\n                value={filter.query}\n                onChange={e => setFilter({...filter, query: e.target.value})}\n                placeholder=\"Search...\"\n            />\n            <MySelect\n                value={filter.sort}\n                onChange={selectedSort => setFilter({...filter, sort: selectedSort})}\n                defaultValue=\"filter\"\n                options={[\n                    {value: 'title', name: 'name'},\n                    {value: 'body', name: 'description'},\n                ]}\n            />\n        </div>\n    );\n};\n\nexport default PostFilter;\n","import React from 'react';\nimport MyButton from \"./UI/button/MyButton\";\nimport {useHistory} from 'react-router-dom';\n\nconst PostItem = (props) => {\n    const router = useHistory()\n\n    return (\n        <div className=\"post\">\n            <div className=\"post__content\">\n                <strong>{props.post.id}. {props.post.title}</strong>\n                <div>\n                    {props.post.body}\n                </div>\n            </div>\n            <div className=\"post__btns\">\n                <MyButton onClick={() => router.push(`/posts/${props.post.id}`)}>\n                    Open\n                </MyButton>\n                <MyButton onClick={() => props.remove(props.post)}>\n                    Delete\n                </MyButton>\n            </div>\n        </div>\n    );\n};\n\nexport default PostItem;\n","import React from 'react';\nimport PostItem from \"./PostItem\";\nimport {TransitionGroup, CSSTransition} from \"react-transition-group\";\n\nconst PostList = ({posts, title, remove}) => {\n\n    if (!posts.length) {\n        return (\n            <h1 style={{textAlign: 'center'}}>\n               Post not found!\n            </h1>\n        )\n    }\n\n    return (\n        <div>\n            <h1 style={{textAlign: 'center'}}>\n                {title}\n            </h1>\n            <TransitionGroup>\n                {posts.map((post, index) =>\n                    <CSSTransition\n                        key={post.id}\n                        timeout={500}\n                        classNames=\"post\"\n                    >\n                        <PostItem remove={remove} number={index + 1} post={post} />\n                    </CSSTransition>\n                )}\n            </TransitionGroup>\n        </div>\n    );\n};\n\nexport default PostList;\n","import React from 'react';\nimport cl from './Loader.module.css';\n\nconst Loader = () => {\n    return (\n        <div className={cl.loader}>\n\n        </div>\n    );\n};\n\nexport default Loader;\n","import React from 'react';\nimport {getPagesArray} from \"../../../utils/pages\";\n\nconst Pagination = ({totalPages, page, changePage}) => {\n    let pagesArray = getPagesArray(totalPages);\n    return (\n        <div className=\"page__wrapper\">\n            {pagesArray.map(p =>\n                <span\n                    onClick={() => changePage(p)}\n                    key={p}\n                    className={page === p ? 'page page__current' : 'page'}\n                >\n                        {p}\n                    </span>\n            )}\n        </div>\n    );\n};\n\nexport default Pagination;\n","import React, {useEffect, useRef, useState} from 'react';\nimport PostService from \"../API/PostService\";\nimport {usePosts} from \"../hooks/usePosts\";\nimport {useFetching} from \"../hooks/useFetching\";\nimport {getPageCount} from \"../utils/pages\";\nimport MyButton from \"../components/UI/button/MyButton\";\nimport PostForm from \"../components/PostForm\";\nimport MyModal from \"../components/UI/MyModal/MyModal\";\nimport PostFilter from \"../components/PostFilter\";\nimport PostList from \"../components/PostList\";\nimport Loader from \"../components/UI/Loader/Loader\";\nimport Pagination from \"../components/UI/pagination/Pagination\";\nimport {useObserver} from \"../hooks/useObserver\";\nimport MySelect from \"../components/UI/select/MySelect\";\n\n\nfunction Posts() {\n    const [posts, setPosts] = useState([])\n    const [filter, setFilter] = useState({sort: '', query: ''})\n    const [modal, setModal] = useState(false);\n    const [totalPages, setTotalPages] = useState(0);\n    const [limit, setLimit] = useState(10);\n    const [page, setPage] = useState(1);\n    const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query);\n    const lastElement = useRef()\n\n    const [fetchPosts, isPostsLoading, postError] = useFetching(async (limit, page) => {\n        const response = await PostService.getAll(limit, page);\n        setPosts([...posts, ...response.data])\n        const totalCount = response.headers['x-total-count']\n        setTotalPages(getPageCount(totalCount, limit));\n    })\n\n    useObserver(lastElement, page < totalPages, isPostsLoading, () => {\n        setPage(page + 1);\n    })\n\n    useEffect(() => {\n        fetchPosts(limit, page)\n    }, [page, limit])\n\n    const createPost = (newPost) => {\n        setPosts([...posts, newPost])\n        setModal(false)\n    }\n\n    const removePost = (post) => {\n        setPosts(posts.filter(p => p.id !== post.id))\n    }\n\n    const changePage = (page) => {\n        setPage(page)\n    }\n\n    return (\n        <div className=\"App\">\n            <MyButton style={{marginTop: 30}} onClick={() => setModal(true)}>\n                Add post\n            </MyButton>\n            <MyModal visible={modal} setVisible={setModal}>\n                <PostForm create={createPost}/>\n            </MyModal>\n            <hr style={{margin: '15px 0'}}/>\n            <PostFilter\n                filter={filter}\n                setFilter={setFilter}\n            />\n            <MySelect\n                value={limit}\n                onChange={value => setLimit(value)}\n                defaultValue=\"page\"\n                options={[\n                    {value: 5, name: '5'},\n                    {value: 10, name: '10'},\n                    {value: 25, name: '25'},\n                    {value: -1, name: 'all post'},\n                ]}\n            />\n            {postError &&\n            <h1>Error ${postError}</h1>\n            }\n            <PostList remove={removePost} posts={sortedAndSearchedPosts} title=\"Post\"/>\n            <div ref={lastElement} style={{height: 20, background: 'red'}}/>\n            {isPostsLoading &&\n            <div style={{display: 'flex', justifyContent: 'center', marginTop: 50}}><Loader/></div>\n            }\n            <Pagination\n                page={page}\n                changePage={changePage}\n                totalPages={totalPages}\n            />\n        </div>\n    );\n}\n\nexport default Posts;\n","import About from \"../pages/About\";\nimport Posts from \"../pages/Posts\";\nimport PostIdPage from \"../pages/PostIdPage\";\nimport Login from \"../pages/Login\";\n\n\nexport const privateRoutes = [\n    {path: '/about', component: About, exact: true},\n    {path: '/posts', component: Posts, exact: true},\n    {path: '/posts/:id', component: PostIdPage, exact: true},\n]\n\nexport const publicRoutes = [\n    {path: '/login', component: Login, exact: true},\n]\n","import {useEffect, useRef} from \"react\";\n\nexport const useObserver = (ref, canLoad, isLoading, callback) => {\n    const observer = useRef();\n\n    useEffect(() => {\n        if(isLoading) return;\n        if(observer.current) observer.current.disconnect();\n\n        var cb = function(entries, observer) {\n            if (entries[0].isIntersecting && canLoad) {\n                callback()\n            }\n        };\n        observer.current = new IntersectionObserver(cb);\n        observer.current.observe(ref.current)\n    }, [isLoading])\n}\n","import React, {useEffect, useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport {useFetching} from \"../hooks/useFetching\";\nimport PostService from \"../API/PostService\";\nimport Loader from \"../components/UI/Loader/Loader\";\n\nconst PostIdPage = () => {\n    const params = useParams()\n    const [post, setPost] = useState({});\n    const [comments, setComments] = useState([]);\n    const [fetchPostById, isLoading, error] = useFetching(async (id) => {\n        const response = await PostService.getById(id)\n        setPost(response.data);\n    })\n    const [fetchComments, isComLoading, comError] = useFetching(async (id) => {\n        const response = await PostService.getCommentsByPostId(id)\n        setComments(response.data);\n    })\n\n    useEffect(() => {\n        fetchPostById(params.id)\n        fetchComments(params.id)\n    }, [])\n\n    return (\n        <div>\n            <h1>You open page ID = {params.id}</h1>\n            {isLoading\n                ? <Loader/>\n                :  <div>{post.id}. {post.title}</div>\n            }\n            <h1>\n                Comments\n            </h1>\n            {isComLoading\n                ? <Loader/>\n                : <div>\n                    {comments.map(comm =>\n                        <div key={comm.id} style={{marginTop: 15}}>\n                            <h5>{comm.email}</h5>\n                            <div>{comm.body}</div>\n                        </div>\n                    )}\n                </div>\n            }\n        </div>\n    );\n};\n\nexport default PostIdPage;\n","import React, {useContext} from 'react';\nimport MyInput from \"../components/UI/input/MyInput\";\nimport MyButton from \"../components/UI/button/MyButton\";\nimport {AuthContext} from \"../context\";\n\nconst Login = () => {\n    const {isAuth, setIsAuth} = useContext(AuthContext);\n\n    const login = event => {\n        event.preventDefault();\n        setIsAuth(true);\n        localStorage.setItem('auth', 'true')\n    }\n\n    return (\n        <div>\n            <h1>Login</h1>\n            <form onSubmit={login}>\n                <MyInput type=\"text\" placeholder=\"Enter login\"/>\n                <MyInput type=\"password\" placeholder=\"Enter password\"/>\n                <MyButton>Login</MyButton>\n            </form>\n        </div>\n    );\n};\n\nexport default Login;\n","import React, {useContext} from 'react';\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport {privateRoutes, publicRoutes} from \"../router\";\nimport {AuthContext} from \"../context\";\nimport Loader from \"./UI/Loader/Loader\";\n\nconst AppRouter = () => {\n    const {isAuth, isLoading} = useContext(AuthContext);\n    console.log(isAuth)\n\n    if (isLoading) {\n        return <Loader/>\n    }\n\n    return (\n        isAuth\n            ?\n            <Switch>\n                {privateRoutes.map(route =>\n                    <Route\n                        component={route.component}\n                        path={route.path}\n                        exact={route.exact}\n                        key={route.path}\n                    />\n                )}\n                <Redirect to='/posts'/>\n            </Switch>\n            :\n            <Switch>\n                {publicRoutes.map(route =>\n                    <Route\n                        component={route.component}\n                        path={route.path}\n                        exact={route.exact}\n                        key={route.path}\n                    />\n                )}\n                <Redirect to='/login'/>\n            </Switch>\n    );\n};\n\nexport default AppRouter;\n","import React, {useEffect, useState} from 'react';\nimport './styles/App.css';\nimport {BrowserRouter} from \"react-router-dom\";\nimport Navbar from \"./components/UI/Navbar/Navbar\";\nimport AppRouter from \"./components/AppRouter\";\nimport {AuthContext} from \"./context\";\n\nfunction App() {\n    const [isAuth, setIsAuth] = useState(false);\n    const [isLoading, setLoading] = useState(true);\n\n    useEffect(() => {\n        if (localStorage.getItem('auth')) {\n            setIsAuth(true)\n        }\n        setLoading(false);\n    }, [])\n\n    return (\n        <AuthContext.Provider value={{\n            isAuth,\n            setIsAuth,\n            isLoading\n        }}>\n            <BrowserRouter>\n                <Navbar/>\n                <AppRouter/>\n            </BrowserRouter>\n        </AuthContext.Provider>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}