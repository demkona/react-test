{"ast":null,"code":"import _regeneratorRuntime from\"/home/dmytro/\\u0421\\u0442\\u0456\\u043B\\u044C\\u043D\\u0438\\u0446\\u044F/goit/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dmytro/\\u0421\\u0442\\u0456\\u043B\\u044C\\u043D\\u0438\\u0446\\u044F/goit/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dmytro/\\u0421\\u0442\\u0456\\u043B\\u044C\\u043D\\u0438\\u0446\\u044F/goit/react-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{useFetching}from\"../hooks/useFetching\";import PostService from\"../API/PostService\";import Loader from\"../components/UI/Loader/Loader\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var PostIdPage=function PostIdPage(){var params=useParams();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),comments=_useState4[0],setComments=_useState4[1];var _useFetching=useFetching(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return PostService.getById(id);case 2:response=_context.sent;setPost(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()),_useFetching2=_slicedToArray(_useFetching,3),fetchPostById=_useFetching2[0],isLoading=_useFetching2[1],error=_useFetching2[2];var _useFetching3=useFetching(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return PostService.getCommentsByPostId(id);case 2:response=_context2.sent;setComments(response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}()),_useFetching4=_slicedToArray(_useFetching3,3),fetchComments=_useFetching4[0],isComLoading=_useFetching4[1],comError=_useFetching4[2];useEffect(function(){fetchPostById(params.id);fetchComments(params.id);},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"You open page ID = \",params.id]}),isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{children:[post.id,\". \",post.title]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Comments\"}),isComLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(\"div\",{children:comments.map(function(comm){return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:15},children:[/*#__PURE__*/_jsx(\"h5\",{children:comm.email}),/*#__PURE__*/_jsx(\"div\",{children:comm.body})]},comm.id);})})]});};export default PostIdPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","useFetching","PostService","Loader","jsxs","_jsxs","jsx","_jsx","PostIdPage","params","_useState","_useState2","_slicedToArray","post","setPost","_useState3","_useState4","comments","setComments","_useFetching","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","response","wrap","_callee$","_context","prev","next","getById","sent","data","stop","_x","apply","arguments","_useFetching2","fetchPostById","isLoading","error","_useFetching3","_ref2","_callee2","_callee2$","_context2","getCommentsByPostId","_x2","_useFetching4","fetchComments","isComLoading","comError","children","title","map","comm","style","marginTop","email","body"],"sources":["/home/dmytro/Стільниця/goit/react-test/src/pages/PostIdPage.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport {useFetching} from \"../hooks/useFetching\";\nimport PostService from \"../API/PostService\";\nimport Loader from \"../components/UI/Loader/Loader\";\n\nconst PostIdPage = () => {\n    const params = useParams()\n    const [post, setPost] = useState({});\n    const [comments, setComments] = useState([]);\n    const [fetchPostById, isLoading, error] = useFetching(async (id) => {\n        const response = await PostService.getById(id)\n        setPost(response.data);\n    })\n    const [fetchComments, isComLoading, comError] = useFetching(async (id) => {\n        const response = await PostService.getCommentsByPostId(id)\n        setComments(response.data);\n    })\n\n    useEffect(() => {\n        fetchPostById(params.id)\n        fetchComments(params.id)\n    }, [])\n\n    return (\n        <div>\n            <h1>You open page ID = {params.id}</h1>\n            {isLoading\n                ? <Loader/>\n                :  <div>{post.id}. {post.title}</div>\n            }\n            <h1>\n                Comments\n            </h1>\n            {isComLoading\n                ? <Loader/>\n                : <div>\n                    {comments.map(comm =>\n                        <div key={comm.id} style={{marginTop: 15}}>\n                            <h5>{comm.email}</h5>\n                            <div>{comm.body}</div>\n                        </div>\n                    )}\n                </div>\n            }\n        </div>\n    );\n};\n\nexport default PostIdPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}