{"ast":null,"code":"import{useEffect,useRef}from\"react\";export var useObserver=function useObserver(ref,canLoad,isLoading,callback){var observer=useRef();useEffect(function(){if(isLoading)return;if(observer.current)observer.current.disconnect();var cb=function cb(entries,observer){if(entries[0].isIntersecting&&canLoad){callback();}};observer.current=new IntersectionObserver(cb);observer.current.observe(ref.current);},[isLoading]);};","map":{"version":3,"names":["useEffect","useRef","useObserver","ref","canLoad","isLoading","callback","observer","current","disconnect","cb","entries","isIntersecting","IntersectionObserver","observe"],"sources":["/home/dmytro/Стільниця/goit/react-fundamental-course-test/src/hooks/useObserver.js"],"sourcesContent":["import {useEffect, useRef} from \"react\";\n\nexport const useObserver = (ref, canLoad, isLoading, callback) => {\n    const observer = useRef();\n\n    useEffect(() => {\n        if(isLoading) return;\n        if(observer.current) observer.current.disconnect();\n\n        var cb = function(entries, observer) {\n            if (entries[0].isIntersecting && canLoad) {\n                callback()\n            }\n        };\n        observer.current = new IntersectionObserver(cb);\n        observer.current.observe(ref.current)\n    }, [isLoading])\n}\n"],"mappings":"AAAA,OAAQA,SAAS,CAAEC,MAAM,KAAO,OAAO,CAEvC,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,GAAG,CAAEC,OAAO,CAAEC,SAAS,CAAEC,QAAQ,CAAK,CAC9D,GAAM,CAAAC,QAAQ,CAAGN,MAAM,EAAE,CAEzBD,SAAS,CAAC,UAAM,CACZ,GAAGK,SAAS,CAAE,OACd,GAAGE,QAAQ,CAACC,OAAO,CAAED,QAAQ,CAACC,OAAO,CAACC,UAAU,EAAE,CAElD,GAAI,CAAAC,EAAE,CAAG,QAAL,CAAAA,EAAEA,CAAYC,OAAO,CAAEJ,QAAQ,CAAE,CACjC,GAAII,OAAO,CAAC,CAAC,CAAC,CAACC,cAAc,EAAIR,OAAO,CAAE,CACtCE,QAAQ,EAAE,CACd,CACJ,CAAC,CACDC,QAAQ,CAACC,OAAO,CAAG,GAAI,CAAAK,oBAAoB,CAACH,EAAE,CAAC,CAC/CH,QAAQ,CAACC,OAAO,CAACM,OAAO,CAACX,GAAG,CAACK,OAAO,CAAC,CACzC,CAAC,CAAE,CAACH,SAAS,CAAC,CAAC,CACnB,CAAC"},"metadata":{},"sourceType":"module"}